function U2X_ConfiguraInterface(){U2X_ConfigModal();$(".button-collapse").sideNav();$("select").material_select();$(".collapsible").collapsible()}function U2X_ValidaLogin(n){return n||($location.path("/login"),U2X_FechaLoader()),n}function U2X_AbreLoader(){$("#modalLoader").modal("open")}function U2X_FechaLoader(){$("#modalLoader").modal("close")}function U2X_ConfigModal(){$(".modal").modal({dismissible:!1,opacity:.8})}function U2X_TrataErro(n){if(console.log(n),!n){Materialize.toast("Não foi possível realizar a operação",4e3);return}if(!n.data){Materialize.toast("Não foi possível realizar a operação",4e3);return}if(!n.data.ExceptionMessage){Materialize.toast("Não foi possível realizar a operação",4e3);return}var t=n.data.ExceptionMessage;if(t.indexOf("U2X_Message")>-1){Materialize.toast(t.replace("U2X_Message",""),4e3);return}Materialize.toast("Não foi possível realizar a operação",4e3)}function U2X_TrataValores(n,t,i,r,u,f){var s;try{n||(n=0);i||(i="");r||(r="");u||(u=",");f||(f=".");var h=n.toString(),o="",e="";if(e=h.split(".")[0],t>0)for(o=h.split(".")[1],o||(o=""),o.length>t&&(o=o.substring(0,t));o.length<t;)o=o+"0";for(s=[];e.length!=0;)e.length>3?(s.push(e.substring(e.length-3)),e=e.substring(0,e.length-3)):(s.push(e),e="");return s=s.reverse(),e=s.join(f),e.indexOf("-.")>-1&&(e=e.replace("-.","-")),o.length==0?i+e+r:i+e+u+o+r}catch(c){}}function verifica_cpf_cnpj(n){return n=n.toString(),n=n.replace(/[^0-9]/g,""),n.length===11?"CPF":n.length===14?"CNPJ":!1}function calc_digitos_posicoes(n,t=10,i=0){var r;for(n=n.toString(),r=0;r<n.length;r++)i=i+n[r]*t,t--,t<2&&(t=9);return i=i%11,i=i<2?0:11-i,n+i}function valida_cpf(n){n=n.toString();n=n.replace(/[^0-9]/g,"");var i=n.substr(0,9),t=calc_digitos_posicoes(i),t=calc_digitos_posicoes(t,11);return t===n?!0:!1}function valida_cnpj(n){n=n.toString();n=n.replace(/[^0-9]/g,"");var t=n,i=n.substr(0,12),r=calc_digitos_posicoes(i,5),u=calc_digitos_posicoes(r,6),f=u;return f===t?!0:!1}function U2X_ValidaCPFCNPJ(n){var t=verifica_cpf_cnpj(n);return n=n.toString(),n=n.replace(/[^0-9]/g,""),t==="CPF"?valida_cpf(n):t==="CNPJ"?valida_cnpj(n):!1}function formata_cpf_cnpj(n){var t=!1,i=verifica_cpf_cnpj(n);return n=n.toString(),n=n.replace(/[^0-9]/g,""),i==="CPF"?valida_cpf(n)&&(t=n.substr(0,3)+".",t+=n.substr(3,3)+".",t+=n.substr(6,3)+"-",t+=n.substr(9,2)+""):i==="CNPJ"&&valida_cnpj(n)&&(t=n.substr(0,2)+".",t+=n.substr(2,3)+".",t+=n.substr(5,3)+"/",t+=n.substr(8,4)+"-",t+=n.substr(12,14)+""),t}function U2X_ValidateEmail(n){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n.toLowerCase())}app.controller("addMovimentacaoCtrl",function(n,t,i,r,u){function f(){U2X_AbreLoader();var n=e(),t=o();Promise.all([n,t]).then(function(){U2X_FechaLoader();Materialize.updateTextFields()})}function e(){return new Promise(function(t,r){i({method:"GET",url:u.url+"/api/TipoMovimentacao/"+n.loggedUsuario.id_instituicao}).then(function(i){var r=i.data;r&&r.length>0&&(n.lstTipoMovimentacao=r.filter(function(n){return!n.is_canceled}));t()},function(n){console.log(n);Materialize.toast("Não foi possível realizar a operação",4e3);r()})})}function o(){return new Promise(function(t,r){var f={};f.id_instituicao=n.loggedUsuario.id_instituicao;i({method:"POST",url:u.url+"/api/TipoPagamento_Obtem",data:f}).then(function(i){var r=i.data;r&&r.length>0&&(n.lstTipoPagamento=r.filter(function(n){return n.is_ativo}));t()},function(n){console.log(n);Materialize.toast("Não foi possível realizar a operação",4e3);r()})})}function s(){oUsuario=u.getUsuario();oUsuario||(r.path("/login"),U2X_FechaLoader())}n.lstTipoMovimentacao;n.lstTipoPagamento;n.loggedUsuario=u.getUsuario();n.movimentacao={};n.movimentacao.tipoMovimentacao={};n.movimentacao.tipoPagamento={};n.movimentacao.repetir=1;n.movimentacao.data=moment();n.movimentacao.valor=0;U2X_ConfiguraInterface();s();f();n.btnAdd=function(){if(!n.movimentacao.tipoMovimentacao.id||n.movimentacao.tipoMovimentacao.id==0){Materialize.toast("Selecione o [Tipo de Movimentação].",4e3);return}if(!n.movimentacao.tipoPagamento.id||n.movimentacao.tipoPagamento.id==0){Materialize.toast("Selecione o [Tipo de Pagamento].",4e3);return}if(n.movimentacao.valor<=0){Materialize.toast("Valor deve ser maior que zero.",4e3);return}if(n.movimentacao.repetir<=0){Materialize.toast("A movimentação deve acontecer pelo menos 1 vez.",4e3);return}var t={};t.isEntrada=n.movimentacao.isEntrada;t.idUsuario=n.loggedUsuario.id;t.idTipoMovimentacao=n.movimentacao.tipoMovimentacao.id;t.idTipoPagamento=n.movimentacao.tipoPagamento.id;t.descricao=n.movimentacao.descricao;t.valor=n.movimentacao.valor;t.data=moment(n.movimentacao.data);i({method:"POST",url:u.url+"/api/MovimentacaoPessoal_Adicionar",data:t}).then(function(){r.path("/dashboard");Materialize.toast("Movimentação cadastrada com sucesso.",4e3)},function(n){console.log(n);Materialize.toast("Não foi possível realizar a operação",4e3)})}});app.controller("addUsuarioCtrl",function(n,t,i,r,u){function f(){if(oUsuario=u.getUsuario(),!oUsuario){r.path("/login");U2X_FechaLoader();return}if(!oUsuario.isAdmin){r.path("/");U2X_FechaLoader();return}}n.targetUsuario={};n.loggedUsuario=u.getUsuario();U2X_ConfiguraInterface();f();$(".collapsible").collapsible();n.btnAdd=function(){if(!n.targetUsuario.login){this.toasterService.pop("success","Digite o [login].");return}if(!n.targetUsuario.senha){this.toasterService.pop("success","Digite a [senha].");return}U2X_AbreLoader();n.targetUsuario.id_instituicao=n.loggedUsuario.id_instituicao;i({method:"POST",url:u.url+"/api/usuario",data:n.targetUsuario}).then(function(){r.path("/usuario");U2X_FechaLoader()},function(n){U2X_TrataErro(n);U2X_FechaLoader();return})}});app.controller("cadastroCtrl",function(n,t,i,r,u){U2X_ConfiguraInterface();n.cadastra=function(){if(!n.nome||n.nome==""){Materialize.toast("Favor preencher [Nome].",4e3);return}if(!n.documento||n.documento==""){Materialize.toast("Favor preencher [CPF/CNPJ].",4e3);return}if(!U2X_ValidaCPFCNPJ(n.documento)){Materialize.toast("O [CPF/CNPJ] é inválido.",4e3);return}if(!n.email||n.email==""){Materialize.toast("Favor preencher [E-mail].",4e3);return}if(!U2X_ValidateEmail(n.email)){Materialize.toast("O [e-mail] é inválido.",4e3);return}if(!n.telefone||n.telefone==""){Materialize.toast("Favor preencher [Telefone].",4e3);return}if(!n.login||n.login==""){Materialize.toast("Favor preencher [Login].",4e3);return}if(n.login.split(" ").length>1){Materialize.toast("O [Login] não pode conter espaços.",4e3);return}if(!n.senha||n.senha==""){Materialize.toast("Favor preencher [Senha].",4e3);return}if(!n.senha||n.senha.length<=4){Materialize.toast("Favor digitar uma [Senha] com mais de 4 digitos.",4e3);return}if(n.senha!=n.confirmacaoSenha){Materialize.toast("A [Senha] e [Confirmacao de Senha] não são iguais.",4e3);return}var t={};t.nome=n.nome;t.documento=n.documento;t.telefone=n.telefone;t.email=n.email;t.login=n.login;t.senha=n.senha;U2X_AbreLoader();i({method:"POST",url:u.url+"/api/Instituicao_Adicionar",data:t}).then(function(){var t={};t.login=n.login;t.senha=n.senha;u.setUsuario(t);r.path("/");U2X_FechaLoader()},function(n){U2X_TrataErro(n);U2X_FechaLoader();return})}});app.controller("dashboardCtrl",function(n,t,i,r,u){function o(){f=u.getUsuario();n.usuario=f;f||(r.path("/login"),U2X_FechaLoader())}function s(){i({method:"POST",url:u.url+"/api/MovimentacaoInstitucional_Obtem",data:f}).then(function(t){n.lstMovimentacao=t.data},function(n){console.log(n);Materialize.toast("Não foi possível realizar a operação",4e3);r.path("/");U2X_FechaLoader();return}).then(function(){i({method:"POST",url:u.url+"/api/TipoPagamento_Obtem",data:{id_instituicao:f.id_instituicao}}).then(function(t){if(e=t.data,!n.lstMovimentacao||n.lstMovimentacao.length==0){U2X_FechaLoader();return}n.lstMovimentacao.forEach(function(n){n.showMore=!1;n.isEntrada||(n.valor=n.valor*-1);n.tipoPagamento=e.filter(function(t){return t.id==n.idTipoPagamento})[0]});n.entradaLiquida=0;n.entradaBruta=0;n.saidaLiquida=0;n.saidaBruta=0;n.entradaLiquidaFutura=0;n.entradaBrutaFutura=0;n.saidaLiquidaFutura=0;n.saidaBrutaFutura=0;n.lstMovimentacao.forEach(function(t){moment(t.data).isBefore(moment(Date()))?t.isEntrada?(n.entradaLiquida=n.entradaLiquida+t.valor*((t.tipoPagamento.cobranca_juros+100)/100),n.entradaBruta=n.entradaBruta+t.valor):(n.saidaLiquida=n.saidaLiquida+t.valor*((t.tipoPagamento.cobranca_juros+100)/100),n.saidaBruta=n.saidaBruta+t.valor):t.isEntrada?(n.entradaLiquidaFutura=n.entradaLiquidaFutura+t.valor*((t.tipoPagamento.cobranca_juros+100)/100),n.entradaBrutaFutura=n.entradaBrutaFutura+t.valor):(n.saidaLiquidaFutura=n.saidaLiquidaFutura+t.valor*((t.tipoPagamento.cobranca_juros+100)/100),n.saidaBrutaFutura=n.saidaBrutaFutura+t.valor)});$(".collapsible").collapsible();U2X_FechaLoader()},function(n){console.log(n);Materialize.toast("Não foi possível realizar a operação",4e3);r.path("/");U2X_FechaLoader();return})})}var f,e;U2X_ConfiguraInterface();U2X_AbreLoader();o();s();n.getStyle=function(n){return n>0?"green":n==0?"black":"red"};n.trataValores=U2X_TrataValores;n.dataFormat=function(n){return moment(n).format("DD/MM/YYYY")}});app.controller("historicoCtrl",function(n,t,i,r,u){function e(){n.loggedUsuario=u.getUsuario();n.loggedUsuario||(r.path("/login"),U2X_FechaLoader())}function o(){U2X_AbreLoader();var n=s(),t=h();Promise.all([n,t]).then(function(){f();Materialize.updateTextFields()})}function s(){return new Promise(function(t,r){i({method:"GET",url:u.url+"/api/TipoMovimentacao/"+n.loggedUsuario.id_instituicao}).then(function(i){n.lstTipoMovimentacao=i.data;t()},function(n){console.log(n);Materialize.toast("Não foi possível realizar a operação",4e3);r()})})}function h(){return new Promise(function(t,r){var f={};f.id_instituicao=n.loggedUsuario.id_instituicao;i({method:"POST",url:u.url+"/api/TipoPagamento_Obtem",data:f}).then(function(i){n.lstTipoPagamento=i.data;t()},function(n){console.log(n);Materialize.toast("Não foi possível realizar a operação",4e3);r()})})}function f(){i({method:"POST",url:u.url+"/api/MovimentacaoInstitucional_Obtem",data:n.loggedUsuario}).then(function(t){n.lstMovimentacao=t.data;n.lstMovimentacao.forEach(function(t){t.showMore=!1;t.isEntrada||(t.valor=t.valor*-1);t.tipoMovimentacao=n.lstTipoMovimentacao.filter(function(n){return n.id==t.idTipoMovimentacao})[0];t.tipoPagamento=n.lstTipoPagamento.filter(function(n){return n.id==t.idTipoPagamento})[0]});n.lstMovimentacao=n.lstMovimentacao.sort(function(n,t){return moment(t.data).isBefore(moment(n.data))?-1:moment(t.data).isAfter(moment(n.data))?1:0});U2X_FechaLoader()},function(n){console.log(n);Materialize.toast("Não foi possível realizar a operação",4e3);r.path("/");U2X_FechaLoader();return})}U2X_ConfiguraInterface();U2X_AbreLoader();e();o();n.Apagar=function(n){U2X_AbreLoader();i({method:"POST",url:u.url+"/api/Movimentacao_Deletar",data:n}).then(function(){f();U2X_FechaLoader()},function(n){U2X_TrataErro(n);U2X_FechaLoader();return})};n.getStyle=function(n){return n>0?"green":n==0?"black":"red"};n.trataValores=U2X_TrataValores;n.dataFormat=function(n){return moment(n).format("DD/MM/YYYY")}});app.controller("loginCtrl",function(n,t,i,r,u){function e(){i({method:"POST",url:u.url+"/api/Login",data:f}).then(function(t){var i=t.data;if(!i){u.setUsuario({});Materialize.toast("Usuario ou senha inválidos",4e3);r.path("/");U2X_FechaLoader();return}u.setUsuario(i);n.$emit("usuario_logado",i);r.path("/dashboard");U2X_FechaLoader()},function(n){console.log(n);Materialize.toast("Não foi possível realizar o login",4e3);r.path("/");U2X_FechaLoader();return})}var f;U2X_ConfiguraInterface();U2X_AbreLoader();f=u.getUsuario();f?e():U2X_FechaLoader();n.Login=function(){f={};f.login=n.login;f.senha=n.senha;e()}});app.controller("menuCtrl",function(n,t,i,r,u){n.usuario=u.getUsuario();t.$on("usuario_logado",function(){n.usuario=u.getUsuario()});n.LogOut=function(){n.usuario=undefined;u.setUsuario(undefined);r.path("/login")}});app.controller("movimentacaoCtrl",function(n,t,i,r,u){function f(){U2X_AbreLoader();i({method:"GET",url:u.url+"/api/TipoMovimentacao/"+e.id_instituicao}).then(function(t){n.lstTipoMovimentacao=t.data;U2X_FechaLoader();n.changeBusca(n.sBusca,n.bAtivos)},function(n){U2X_TrataErro(n);U2X_FechaLoader();return})}function o(t,i){n.lstTipoMovimentacaoFiltered=n.lstTipoMovimentacao.filter(function(n){return t&&t.length>0&&n.nome.toUpperCase().indexOf(t.toUpperCase())==-1?!1:i&&!n.is_ativo?!1:!0})}U2X_ConfiguraInterface();var e=U2X_ValidaLogin(u.getUsuario());f();n.OpenAddStatus=function(){$("#mdlChangePassword").modal("open")};n.CloseAddStatus=function(){$("#mdlChangePassword").modal("close")};n.AddStatus=function(){if(!n.descricao||n.descricao==""){Materialize.toast("Digite o [descricao] do novo tipo de Movimentacao.",4e3);return}var t={};t.id_instituicao=e.id_instituicao;t.descricao=n.descricao;t.is_ativo=!0;U2X_AbreLoader();i({method:"POST",url:u.url+"/api/TipoMovimentacao",data:t}).then(function(){Materialize.toast("Tipo de Movimentacao adicionado com sucesso",4e3);U2X_FechaLoader();n.CloseAddStatus();f();n.changeBusca(n.sBusca,n.bAtivos)},function(n){U2X_TrataErro(n);U2X_FechaLoader();return})};n.changeBusca=function(n,t){o(n,t)};n.Alterar=function(n,t){n.is_canceled=!t;var r=n.is_canceled?"cancelado":"reativado",e=n.is_canceled?1:0;U2X_AbreLoader();i({method:"GET",url:u.url+"/api/TipoMovimentacao/AlteraStatus/"+n.id+"/"+e,data:n}).then(function(){Materialize.toast("O tipo de Movimentacao foi "+r,4e3);U2X_FechaLoader();f()},function(n){U2X_TrataErro(n);U2X_FechaLoader();return})}});app.controller("pagamentoCtrl",function(n,t,i,r,u){function f(){var t={};t.id_instituicao=e.id_instituicao;U2X_AbreLoader();i({method:"POST",url:u.url+"/api/TipoPagamento_Obtem",data:t}).then(function(t){n.lstTipoPagamento=t.data;U2X_FechaLoader();n.changeBusca(n.sBusca,n.bAtivos)},function(n){U2X_TrataErro(n);U2X_FechaLoader();return})}function o(t,i){n.lstTipoPagamentoFiltered=n.lstTipoPagamento.filter(function(n){return t&&t.length>0&&n.nome.toUpperCase().indexOf(t.toUpperCase())==-1?!1:i&&!n.is_ativo?!1:!0})}U2X_ConfiguraInterface();var e=U2X_ValidaLogin(u.getUsuario());f();n.OpenAddStatus=function(){$("#mdlChangePassword").modal("open")};n.CloseAddStatus=function(){$("#mdlChangePassword").modal("close")};n.AddStatus=function(){if(!n.nome||n.nome==""){Materialize.toast("Digite o [nome] do novo tipo de pagamento.",4e3);return}var t={};t.id_instituicao=e.id_instituicao;t.cobranca_Juros=n.juros;t.nome=n.nome;t.is_ativo=!0;U2X_AbreLoader();n.juros||(n.juros=0);i({method:"POST",url:u.url+"/api/TipoPagamento_Adicionar",data:t}).then(function(){Materialize.toast("Tipo de Pagamento adicionado com sucesso",4e3);U2X_FechaLoader();n.CloseAddStatus();f();n.changeBusca(n.sBusca,n.bAtivos)},function(n){U2X_TrataErro(n);U2X_FechaLoader();return})};n.changeBusca=function(n,t){o(n,t)};n.Alterar=function(n,t){n.is_ativo=t;var r=t?"reativado":"cancelado";U2X_AbreLoader();i({method:"POST",url:u.url+"/api/TipoPagamento_Alterar",data:n}).then(function(){Materialize.toast("O tipo de pagamento foi "+r,4e3);U2X_FechaLoader();f()},function(n){U2X_TrataErro(n);U2X_FechaLoader();return})}});app.controller("usuarioCtrl",function(n,t,i,r,u){function f(){n.loggedUsuario=u.getUsuario();U2X_AbreLoader();n.loggedUsuario.isAdmin?i({method:"GET",url:u.url+"/api/usuario/"+n.loggedUsuario.id_instituicao}).then(function(t){n.lstUsuario=t.data;n.lstUsuarioFiltered=t.data;U2X_FechaLoader()},function(n){U2X_TrataErro(n);U2X_FechaLoader()}):(n.lstUsuario=[],n.lstUsuario.push(n.loggedUsuario),n.lstUsuarioFiltered=n.loggedUsuario,U2X_FechaLoader())}n.loggedUsuario={};n.lstUsuario=[];n.lstUsuarioFiltered=[];n.targetUsuario={};n.sSenha="";n.sBusca="";U2X_ConfiguraInterface();f();n.changeBusca=function(t){n.lstUsuarioFiltered=n.lstUsuario.filter(function(n){return(t||t.length==0)&&n.login.toUpperCase().indexOf(t.toUpperCase())==-1?!1:!0})};n.OpenChangePassword=function(t){n.targetUsuario=t;$("#mdlChangePassword").modal("open")};n.CloseChangePassword=function(){$("#mdlChangePassword").modal("close")};n.ChangePassword=function(){if(!n.sSenha||n.sSenha.length<4){Materialize.toast("Digite o uma nova [senha] para o usuário.",4e3);return}n.targetUsuario.senha=n.sSenha;U2X_AbreLoader();i({method:"POST",url:u.url+"/api/UsuarioAtualiza",data:n.targetUsuario}).then(function(){Materialize.toast("O usuario ["+n.targetUsuario.login+"] trocou de senha",4e3);U2X_FechaLoader();$("#mdlChangePassword").modal("close")},function(n){U2X_TrataErro(n);U2X_FechaLoader();$("#mdlChangePassword").modal("close")})};n.ChangeAdmin=function(t,r){n.targetUsuario=t;n.targetUsuario.isAdmin=r;var e=r?"tornou se administrador":"deixou de ser administrador";i({method:"POST",url:u.url+"/api/UsuarioAtualiza",data:n.targetUsuario}).then(function(){Materialize.toast("O usuario ["+n.targetUsuario.login+"] "+e+" com sucesso.",4e3);U2X_FechaLoader();f();$("#mdlChangePassword").modal("close")},function(n){U2X_TrataErro(n);U2X_FechaLoader();$("#mdlChangePassword").modal("close")})}});app.controller("widgetEstrelaCtrl",function(n,t,i,r,u){function e(){i({method:"POST",url:u.url+"/api/Obtem_Estrela",data:f}).then(function(t){t&&t.data&&(n.estrelas=t.data)},function(){})}U2X_ConfiguraInterface();var f=U2X_ValidaLogin(u.getUsuario());e();n.estrelas="?";n.OpenAddEstrelas=function(){$("#mdlEstrela").modal("open")};n.CloseAddEstrela=function(){$("#mdlEstrela").modal("close")};n.AddEstrela=function(){if(!n.email||n.email==""){Materialize.toast("Favor preencher [E-mail].",4e3);return}if(!U2X_ValidateEmail(n.email)){Materialize.toast("O [e-mail] é inválido.",4e3);return}if(!n.telefone||n.telefone==""){Materialize.toast("Favor preencher [Telefone].",4e3);return}U2X_AbreLoader();var t={};t.id_usuario=f.id;t.telefone=n.telefone;t.email=n.email;i({method:"POST",url:u.url+"/api/Adicionar_Estrela",data:t}).then(function(){Materialize.toast("Vamos enviar um pedido para o seu amigo.",4e3);U2X_FechaLoader();e();$("#mdlEstrela").modal("close")},function(n){U2X_TrataErro(n);U2X_FechaLoader();return})}});app.filter("NumberToStringFormat",function(n,t,i,r,u,f){var s;try{n||(n=0);i||(i="");r||(r="");u||(u=",");f||(f=".");var h=n.toString(),o="",e="";if(e=h.split(".")[0],t>0)for(o=h.split(".")[1],o||(o=""),o.length>t&&(o=o.substring(0,t));o.length<t;)o=o+"0";for(s=[];e.length!=0;)e.length>3?(s.push(e.substring(e.length-3)),e=e.substring(0,e.length-3)):(s.push(e),e="");return s=s.reverse(),e=s.join(f),o.length==0?i+e+r:i+e+u+o+r}catch(c){}});var app=angular.module("myApp",["ngRoute"]);app.directive("myRepeatDirective",function(){return function(n){n.$last&&($(".collapsible").collapsible(),$("select").material_select())}}).config(function(n){n.when("/",{templateUrl:"controllers/login.html"}).when("/login",{templateUrl:"controllers/login.html"}).when("/dashboard",{templateUrl:"controllers/dashboard.html"}).when("/movimentacao",{templateUrl:"controllers/movimentacao.html"}).when("/pagamento",{templateUrl:"controllers/pagamento.html"}).when("/usuario",{templateUrl:"controllers/usuario.html"}).when("/addusuario",{templateUrl:"controllers/add_usuario.html"}).when("/addmovimentacao",{templateUrl:"controllers/add_movimentacao.html"}).when("/historico",{templateUrl:"controllers/historico.html"}).when("/cadastro",{templateUrl:"controllers/cadastro.html"})});app.factory("dataservice",function(){function n(n,t){var i=new Date,r;i.setTime(i.getTime()+2592e6);r="expires="+i.toUTCString();document.cookie=n+"="+t+";"+r+";path=/"}function t(n){for(var t,r=n+"=",f=decodeURIComponent(document.cookie),u=f.split(";"),i=0;i<u.length;i++){for(t=u[i];t.charAt(0)==" ";)t=t.substring(1);if(t.indexOf(r)==0)return t.substring(r.length,t.length)}return""}return{url:"http://TheFlux.u2x.com.br",setUsuario:function(t){t&&t.login||n("usuario","");t=t;n("usuario",JSON.stringify(t))},getUsuario:function(){try{var n=JSON.parse(t("usuario"));return n.login?n:undefined}catch(i){return undefined}}}});